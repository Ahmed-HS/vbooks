<header class="flex items-center mb-8">
  <h1 class="text-4xl font-medium dark:text-white">Book library</h1>
  <span class="grow"></span>
  <span class="mr-4">{{ userService.currentUser?.email }}</span>
  <button
    (click)="onLogout()"
    type="button"
    class="py-3 px-4 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-red-100 text-red-800 hover:bg-red-200 focus:outline-hidden focus:bg-red-200 disabled:opacity-50 disabled:pointer-events-none dark:text-red-500 dark:bg-red-800/30 dark:hover:bg-red-800/20 dark:focus:bg-red-800/20"
  >
    Logout
  </button>
</header>

<app-search-books />
@let booksList = books(); @if(!booksList) {
<svg
  class="size-5 text-indigo-600 animate-spin justify-self-center"
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 24 24"
>
  <circle
    class="opacity-25"
    cx="12"
    cy="12"
    r="10"
    stroke="currentColor"
    stroke-width="4"
  ></circle>
  <path
    class="opacity-75"
    fill="currentColor"
    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
  ></path>
</svg>
} @else if (booksList.length > 0) {
<section
  role="list"
  aria-label="Book list"
  class="grid justify-items-center grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"
>
  @for (book of booksList; track book.id) {
  <app-book-card [book]="book" />
  }
</section>
} @else {
<h2>No books found. Please try a different search term.</h2>
}

<button
  aria-label="Add new book"
  class="fixed bottom-6 right-6 bg-blue-400 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg hover:bg-primary-dark transition-colors"
  [routerLink]="['/books', 'new']"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <line x1="12" y1="5" x2="12" y2="19"></line>
    <line x1="5" y1="12" x2="19" y2="12"></line>
  </svg>
</button>
